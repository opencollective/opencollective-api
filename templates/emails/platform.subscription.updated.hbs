Subject: Platform subscription updated for {{account.name}}

{{> header noContentPadding=true}}

<style>
  .billing-container {
    max-width: 600px;
    margin: 0 auto;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: {{theme.colors.neutral.[50]}};
    padding: 30px 20px;
    border-radius: 16px;
  }
  
  .email-header {
    text-align: center;
    margin: -30px -20px 32px -20px;
    padding: 48px 20px;
    background-color: {{theme.colors.blue.[900]}};
    border-radius: 16px 16px 0 0;
    position: relative;
    border: 1px solid #e2e8f0;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    margin-bottom: 50px;
  }
  
  .email-header h1 {
    color: {{theme.colors.neutral.[50]}};
    font-size: 26px;
    font-weight: bold;
  }

  .email-header p {
    color: {{theme.colors.neutral.[50]}};
    font-size: 16px;
    margin: 0;
    opacity: 0.9;
  }

  .email-header a {
    color: {{theme.colors.neutral.[50]}};
    text-decoration: underline;
  }

  .arrow-cell {
    text-align: center;
    vertical-align: top;
    width: 34px;
    padding: 100px 10px;
  }
  .arrow {
    font-size: 24px;
    color: #6b7280;
    font-weight: bold;
  }
  .arrow-down {
    display: none;
    font-size: 24px;
    color: #6b7280;
    font-weight: bold;
    text-align: center;
    padding: 20px 0;
  }
  .plan-comparison-container {
    margin: 24px 0;
  }
  .plan-comparison-table {
    width: 100%;
    max-width: 600px;
    margin: 30px auto;
    border-collapse: separate;
    border-spacing: 0;
    table-layout: fixed;
  }
  .plan-cell {
    vertical-align: top;
    padding: 0;
    width: 50%;
  }
  .plan-cell.new-plan {
    text-align: center;
  }
  .previous-plan {
    filter: grayscale(1);
    opacity: 0.7;
  }
  .plan-cell.previous-plan .plan-title {
    background-color: #6b7280;
  }

  /* Override plan-details styles to prevent overflow in this specific email */
  .billing-container .plan-card {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box;
    padding: 20px !important;
    margin: 0 !important;
  }

  .last-section {
    margin-top: 40px;
    padding-top: 30px;
    border-top: 1px solid #e2e8f0;
  }

  .btn {
    white-space: nowrap;
    margin: 0 10px;
  }

  .button-container {
    text-align: center;
    margin: 20px 0;
  }

  /* Mobile responsive styles */
  @media screen and (max-width: 600px) {
    .billing-container {
      padding: 20px 10px !important;
    }

    .plan-comparison-table {
      display: block;
      width: 100%;
      max-width: none;
      margin: 30px 0;
    }
    .plan-comparison-table tbody {
      display: block;
      width: 100%;
    }
    .plan-comparison-table tr {
      display: block;
      width: 100%;
    }
    .plan-comparison-table td {
      display: block;
      width: 100% !important;
      padding: 0 !important;
    }
    /* Keep plan header tables as normal tables */
    .plan-header-table,
    .plan-header-table tbody,
    .plan-header-table tr,
    .plan-header-table td {
      display: table !important;
    }
    .plan-header-table tbody {
      display: table-row-group !important;
    }
    .plan-header-table tr {
      display: table-row !important;
    }
    .plan-header-table td {
      display: table-cell !important;
      width: auto !important;
      padding: 0 !important;
      margin-bottom: 0 !important;
    }
    .plan-cell {
      width: 100% !important;
      max-width: none !important;
    }
    .arrow-cell {
      width: 100% !important;
      padding: 15px 0 !important;
      text-align: center;
    }
    .arrow {
      display: none;
    }
    .arrow-down {
      display: block !important;
      font-size: 24px;
      color: #6b7280;
      font-weight: bold;
    }
    .btn {
      white-space: nowrap;
    }
  }
</style>

<center>
  <div class="billing-container">
    <div class="email-header">
      <h1>ðŸ”„ Subscription Updated</h1>
      <p>
        The platform subscription for {{> linkCollective collective=account}} has been updated
        {{#if previousPlan}}from <strong>{{previousPlan.title}}</strong>{{/if}}
        to <strong>{{newPlan.title}}</strong>. {{#if newPlan.pricing.pricePerMonth}}
        The new subscription will be charged on <strong>{{formatDate nextBillingDate format="date"}}</strong>.
        {{/if}}
      </p>
    </div>

    <div class="plan-comparison-container">
      <table class="plan-comparison-table">
        <tr>
          {{#if previousPlan}}
          <td class="plan-cell previous-plan">
            {{> plan-details plan=previousPlan title="Previous Tier"}}
          </td>
          <td class="arrow-cell">
            <div class="arrow">â†’</div>
            <div class="arrow-down">â†“</div>
          </td>
          {{/if}}
          <td class="plan-cell new-plan">
            {{#if previousPlan}}
              {{> plan-details plan=newPlan title="New Tier"}}
            {{else}}
              {{> plan-details plan=newPlan}}
            {{/if}}
          </td>
        </tr>
      </table>
    </div>

    <center class="last-section">
      <div class="button-container">
        <a href="{{config.host.website}}/dashboard/{{account.slug}}/platform-subscription" class="btn blue">
          <div>Manage Subscription</div>
        </a>
      </div>
    </center>

    <br />

    <p style="font-size: 14px; color: #666; text-align: center;">
      If you have any questions, please don't hesitate to <a href="https://opencollective.com/contact">contact support</a>.
    </p>

    <p style="font-size: 14px; color: #666; text-align: center; margin-top: 20px;">
      Warmly,<br />
      â€“ Team Open Collective
    </p>
  </div>
</center>

{{> footer}}
